// Code generated by test DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package foo

import (
	"context"
	"reflect"

	"errors"
	"github.com/khulnasoft/khulnasoft/sdk/v3/go/khulnasoft"
	"github.com/khulnasoft/khulnasoft/sdk/v3/go/khulnasoftx"
	"plain-and-default/foo/internal"
)

type ModuleResource struct {
	khulnasoft.CustomResourceState

	OptionalBool khulnasoftx.Output[*bool] `khulnasoft:"optionalBool"`
}

// NewModuleResource registers a new resource with the given unique name, arguments, and options.
func NewModuleResource(ctx *khulnasoft.Context,
	name string, args *ModuleResourceArgs, opts ...khulnasoft.ResourceOption) (*ModuleResource, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.OptionalBool == nil {
		args.OptionalBool = khulnasoftx.Ptr(true)
	}
	args.OptionalConst = khulnasoftx.Ptr("val")
	if args.OptionalEnum == nil {
		args.OptionalEnum = khulnasoftx.Ptr(EnumThing(8))
	}
	if args.OptionalNumber == nil {
		args.OptionalNumber = khulnasoftx.Ptr(42.0)
	}
	if args.OptionalString == nil {
		args.OptionalString = khulnasoftx.Ptr("buzzer")
	}
	if args.PlainOptionalBool == nil {
		plainOptionalBool_ := true
		args.PlainOptionalBool = &plainOptionalBool_
	}
	plainOptionalConst_ := "val"
	args.PlainOptionalConst = &plainOptionalConst_
	if args.PlainOptionalNumber == nil {
		plainOptionalNumber_ := 42.0
		args.PlainOptionalNumber = &plainOptionalNumber_
	}
	if args.PlainOptionalString == nil {
		plainOptionalString_ := "buzzer"
		args.PlainOptionalString = &plainOptionalString_
	}
	if internal.IsZero(args.PlainRequiredBool) {
		args.PlainRequiredBool = true
	}
	args.PlainRequiredConst = "val"
	if internal.IsZero(args.PlainRequiredNumber) {
		args.PlainRequiredNumber = 42.0
	}
	if internal.IsZero(args.PlainRequiredString) {
		args.PlainRequiredString = "buzzer"
	}
	if args.RequiredBool == nil {
		args.RequiredBool = khulnasoftx.Val(true)
	}
	if args.RequiredEnum == nil {
		args.RequiredEnum = khulnasoftx.Val(EnumThing(4))
	}
	if args.RequiredNumber == nil {
		args.RequiredNumber = khulnasoftx.Val(42.0)
	}
	if args.RequiredString == nil {
		args.RequiredString = khulnasoftx.Val("buzzer")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ModuleResource
	err := ctx.RegisterResource("foobar::ModuleResource", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetModuleResource gets an existing ModuleResource resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetModuleResource(ctx *khulnasoft.Context,
	name string, id khulnasoft.IDInput, state *ModuleResourceState, opts ...khulnasoft.ResourceOption) (*ModuleResource, error) {
	var resource ModuleResource
	err := ctx.ReadResource("foobar::ModuleResource", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ModuleResource resources.
type moduleResourceState struct {
}

type ModuleResourceState struct {
}

func (ModuleResourceState) ElementType() reflect.Type {
	return reflect.TypeOf((*moduleResourceState)(nil)).Elem()
}

type moduleResourceArgs struct {
	OptionalBool        *bool      `khulnasoft:"optionalBool"`
	OptionalConst       *string    `khulnasoft:"optionalConst"`
	OptionalEnum        *EnumThing `khulnasoft:"optionalEnum"`
	OptionalNumber      *float64   `khulnasoft:"optionalNumber"`
	OptionalString      *string    `khulnasoft:"optionalString"`
	PlainOptionalBool   *bool      `khulnasoft:"plainOptionalBool"`
	PlainOptionalConst  *string    `khulnasoft:"plainOptionalConst"`
	PlainOptionalNumber *float64   `khulnasoft:"plainOptionalNumber"`
	PlainOptionalString *string    `khulnasoft:"plainOptionalString"`
	PlainRequiredBool   bool       `khulnasoft:"plainRequiredBool"`
	PlainRequiredConst  string     `khulnasoft:"plainRequiredConst"`
	PlainRequiredNumber float64    `khulnasoft:"plainRequiredNumber"`
	PlainRequiredString string     `khulnasoft:"plainRequiredString"`
	RequiredBool        bool       `khulnasoft:"requiredBool"`
	RequiredEnum        EnumThing  `khulnasoft:"requiredEnum"`
	RequiredNumber      float64    `khulnasoft:"requiredNumber"`
	RequiredString      string     `khulnasoft:"requiredString"`
}

// The set of arguments for constructing a ModuleResource resource.
type ModuleResourceArgs struct {
	OptionalBool        khulnasoftx.Input[*bool]
	OptionalConst       khulnasoftx.Input[*string]
	OptionalEnum        khulnasoftx.Input[*EnumThing]
	OptionalNumber      khulnasoftx.Input[*float64]
	OptionalString      khulnasoftx.Input[*string]
	PlainOptionalBool   *bool
	PlainOptionalConst  *string
	PlainOptionalNumber *float64
	PlainOptionalString *string
	PlainRequiredBool   bool
	PlainRequiredConst  string
	PlainRequiredNumber float64
	PlainRequiredString string
	RequiredBool        khulnasoftx.Input[bool]
	RequiredEnum        khulnasoftx.Input[EnumThing]
	RequiredNumber      khulnasoftx.Input[float64]
	RequiredString      khulnasoftx.Input[string]
}

func (ModuleResourceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*moduleResourceArgs)(nil)).Elem()
}

type ModuleResourceOutput struct{ *khulnasoft.OutputState }

func (ModuleResourceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*ModuleResource)(nil)).Elem()
}

func (o ModuleResourceOutput) ToModuleResourceOutput() ModuleResourceOutput {
	return o
}

func (o ModuleResourceOutput) ToModuleResourceOutputWithContext(ctx context.Context) ModuleResourceOutput {
	return o
}

func (o ModuleResourceOutput) ToOutput(ctx context.Context) khulnasoftx.Output[ModuleResource] {
	return khulnasoftx.Output[ModuleResource]{
		OutputState: o.OutputState,
	}
}

func (o ModuleResourceOutput) OptionalBool() khulnasoftx.Output[*bool] {
	value := khulnasoftx.Apply[ModuleResource](o, func(v ModuleResource) khulnasoftx.Output[*bool] { return v.OptionalBool })
	return khulnasoftx.Flatten[*bool, khulnasoftx.Output[*bool]](value)
}

func init() {
	khulnasoft.RegisterOutputType(ModuleResourceOutput{})
}
